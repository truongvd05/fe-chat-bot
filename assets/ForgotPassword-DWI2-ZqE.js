import{m as h,b as g,r as l,j as e,I as p,B as j,N,o as b,d as w,e as k}from"./index-B-fiImjy.js";import{C,a as E,b as S,c as y}from"./card-DKvhEebN.js";const F=w({email:k().email("email không hợp lệ").required("Email là bắt buộc")});function M(){const[o,{isLoading:c}]=h(),{register:i,handleSubmit:m,setError:n,watch:d,formState:{errors:s}}=g({resolver:b(F)}),[u,a]=l.useState(!1),x=d("email"),f=async t=>{if(t)try{await o({email:t.email}).unwrap(),a(!0)}catch(r){console.log(r),a(!1),n("root",{type:"manual",message:r?.data.error})}};return l.useEffect(()=>{a(!1)},[x]),e.jsxs(C,{className:"w-full max-w-sm m-auto",children:[e.jsx(E,{children:e.jsx(S,{className:"m-auto",children:"Forgot password"})}),e.jsxs("form",{className:"flex flex-col items-center gap-2",onSubmit:m(f),children:[e.jsx("div",{className:"flex flex-col w-[80%] m-auto gap-2",children:e.jsx(p,{autoComplete:"email",type:"text",placeholder:"Email",...i("email",{required:!0})})}),s.email&&e.jsx("span",{className:"text-red-500 text-sm",children:s.email.message}),u&&e.jsx("span",{className:"text-sm text-green-500",children:"Liên kết đặt lại mật khẩu đã được gửi tới email của bạn"}),s.root&&e.jsx("span",{className:"text-red-500 text-sm",children:s.root.message||"lỗi"}),e.jsx(j,{disabled:c,className:"block",type:"submit",children:"Đồng ý"})]}),e.jsx(y,{className:" flex flex-col",children:e.jsx(N,{className:"",to:"/login",children:"Đã có tài khoản"})})]})}export{M as default};
