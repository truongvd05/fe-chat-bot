import{u as d,k as h,r as a,l as f,j as s,B as u,L as g}from"./index-B-fiImjy.js";import{C as j,a as p,b as y}from"./card-DKvhEebN.js";function w(){d();const[i]=h(),[E,t]=a.useState(!1),[l,r]=a.useState(!1),[o,m]=a.useState(!1),n=i.get("token"),[x,{isLoading:c}]=f();return a.useEffect(()=>{(async()=>{t(!0),r(!1);try{const e=await x({token:n}).unwrap();console.log(e),m(e.success)}catch(e){console.log(e),r(!0)}finally{t(!1)}})()},[n]),s.jsxs(j,{className:"w-full max-w-sm m-auto",children:[s.jsx(p,{children:s.jsx(y,{className:"m-auto",children:"Xác thực Email"})}),s.jsxs("div",{className:"w-[80%] m-auto gap-2 text-center",children:[c&&s.jsxs("div",{className:"flex gap-2 items-center justify-center",children:[s.jsx("p",{children:"Đang xác minh..."}),s.jsx("i",{className:"fa-solid fa-spinner animate-spin text-gray-400"})]}),!c&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex gap-2 items-center justify-center mb-2",children:[o&&s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"Xác thực thành công"}),s.jsx("i",{class:"fa-solid fa-check text-green-500"})]}),l&&s.jsx("span",{className:"text-sm text-red-500",children:"Liên kết đã hết hạn hoặc không hợp lệ"})]}),s.jsx(u,{children:s.jsx(g,{to:"/login",children:"Login"})})]})]})]})}export{w as default};
